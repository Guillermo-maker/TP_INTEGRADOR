CREATE DATABASE SERVICIO_BUS;

USE SERVICIO_BUS;

CREATE TABLE ATRACTIVO ( ID INT PRIMARY KEY, NOMBRE VARCHAR (50), CALIFICACION FLOAT);

CREATE TABLE PARADA ( ID INT PRIMARY KEY, NOMBRE VARCHAR (50), DIRECCION VARCHAR (50), DESCRIPCION TEXT, FOTO VARCHAR (50),LISTA_ATRACTIVO INT, FOREIGN KEY (LISTA_ATRACTIVO) REFERENCES ATRACTIVO(ID));

CREATE TABLE DETALLE_CADA_PARADA ( ID INT PRIMARY KEY, NUMERO_ORDER INT, CONEXION BOOLEAN, PARADA INT, FOREIGN KEY (PARADA) REFERENCES PARADA(ID));

CREATE TABLE RECORRIDO ( ID INT PRIMARY KEY, DURACION_APROX INT, HORA_INICIO_PARADA  DATETIME, DURACION_PROGRAMADA INT, COLOR VARCHAR (50)  ,LISTA_DETALLE_PARADA INT, FOREIGN KEY (LISTA_DETALLE_PARADA) REFERENCES DETALLE_CADA_PARADA(ID));

CREATE TABLE BUS (PATENTE INT PRIMARY KEY, UNIDAD INT, FECHA_COMPRA DATE, ESTADO BOOLEAN);

CREATE TABLE CHOFER ( DNI INT PRIMARY KEY, LEGAJO INT, NOMBRE VARCHAR(50), APELLIDO VARCHAR(50));

CREATE TABLE VIAJE (ID INT PRIMARY KEY, FECHA_INICIO DATETIME, FECHA_FIN DATETIME, BUS INT, FOREIGN KEY (BUS) REFERENCES BUS(PATENTE), CHOFER INT, FOREIGN KEY (CHOFER) REFERENCES CHOFER(DNI), RECORRIDO INT, FOREIGN KEY (RECORRIDO) REFERENCES RECORRIDO(ID));
